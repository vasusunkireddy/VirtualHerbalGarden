<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Virtual Herbal Garden — Admin Auth</title>

  <!-- Security headers -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https:; img-src 'self' https: data:; style-src 'self' 'unsafe-inline' https:; font-src https: data:; script-src 'self' 'unsafe-inline' https:; connect-src 'self' https: http:;">
  <meta name="color-scheme" content="dark light"/>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@600;700&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --brand: #ff6b35;
      --brand-700: #d94f1e;
      --brand-light: #ff8f66;
      --bg: #0a0b0f;
      --card: #121318;
      --surface: #0d0e13;
      --muted: #a1b0c5;
      --text: #f1f3f6;
      --good: #2dd4bf;
      --bad: #f87171;
      --warn: #facc15;
      --border: #2a2e38;
      --ring: rgba(255,107,53,0.2);
      --radius: 20px;
      --shadow: 0 8px 32px rgba(0,0,0,0.4);
      --gradient: linear-gradient(135deg, rgba(255,107,53,0.15), rgba(45,212,191,0.1));
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; padding:0}
    body{
      color:var(--text); 
      font-family:'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,107,53,0.15) 0%, transparent 50%),
        radial-gradient(circle at 90% 80%, rgba(45,212,191,0.15) 0%, transparent 50%),
        var(--bg);
      display:grid; 
      place-items:center;
      overflow-x:hidden;
    }
    .wrap{
      width:100%; 
      max-width:1080px; 
      padding:32px;
      margin:0 auto;
    }
    .branding{
      display:flex; 
      align-items:center; 
      gap:16px; 
      margin-bottom:24px;
      padding:16px;
      background: var(--gradient);
      border-radius:12px;
      box-shadow: var(--shadow);
    }
    .branding .logo{
      width:56px; 
      height:56px; 
      border-radius:16px; 
      overflow:hidden;
      box-shadow:0 4px 12px rgba(0,0,0,0.5), inset 0 0 0 1px var(--border);
      background:#121212;
      position:relative;
      transition:transform 0.3s ease;
    }
    .branding .logo:hover{transform:scale(1.05)}
    .branding .logo img{
      width:100%; 
      height:100%; 
      object-fit:cover; 
      display:block;
    }
    .branding .brand-title{display:flex; flex-direction:column}
    .branding .title{
      font-family:'Poppins',sans-serif;
      font-size:24px; 
      font-weight:700; 
      letter-spacing:-0.2px;
      color:var(--brand-light);
    }
    .branding .muted{
      color:var(--muted); 
      font-size:14px;
      font-weight:500;
    }

    .grid{
      display:grid; 
      grid-template-columns: 1fr 1fr; 
      gap:32px;
      padding:16px;
    }
    @media (max-width:960px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background: var(--gradient);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:28px;
      box-shadow: var(--shadow);
      backdrop-filter:blur(8px);
      transition:transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover{
      transform:translateY(-4px);
      box-shadow:0 12px 40px rgba(0,0,0,0.5);
    }
    .card h2{
      margin:0 0 16px; 
      font-family:'Poppins',sans-serif;
      font-size:24px; 
      font-weight:700;
      color:var(--brand-light);
    }
    .sub{
      color:var(--muted); 
      font-size:14px; 
      margin:0 0 20px;
      line-height:1.5;
    }

    .field{margin-bottom:16px}
    label{
      display:block; 
      font-size:13px; 
      font-weight:500;
      color:#d1d5db; 
      margin-bottom:8px;
    }
    .input{
      width:100%; 
      padding:14px 16px; 
      border-radius:12px;
      border:1px solid var(--border); 
      background:var(--surface); 
      color:var(--text);
      font-size:15px;
      outline:none; 
      transition:all 0.2s ease;
    }
    .input:focus{
      border-color:var(--brand);
      box-shadow:0 0 0 4px var(--ring);
      background:#111216;
    }
    .row{
      display:flex; 
      gap:16px; 
      align-items:center;
    }
    .row > *{flex:1}

    .btn{
      display:inline-flex; 
      gap:8px; 
      align-items:center; 
      justify-content:center;
      width:100%; 
      padding:14px 16px; 
      border-radius:12px; 
      border:1px solid transparent;
      background:linear-gradient(45deg, var(--brand), var(--brand-light));
      color:#1a1a1a; 
      font-family:'Poppins',sans-serif;
      font-weight:600; 
      font-size:15px;
      cursor:pointer;
      transition:all 0.2s ease;
      position:relative;
      overflow:hidden;
    }
    .btn::after{
      content:'';
      position:absolute;
      top:0; left:-100%;
      width:100%; height:100%;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition:left 0.4s ease;
    }
    .btn:hover{
      background:linear-gradient(45deg, var(--brand-light), var(--brand));
      transform:translateY(-2px);
    }
    .btn:hover::after{left:100%}
    .btn:active{transform:translateY(0)}
    .btn[disabled]{
      opacity:0.6; 
      cursor:not-allowed; 
      filter:saturate(0.5);
    }
    .btn.secondary{
      background:#1a1c24; 
      color:#e5e7eb; 
      border-color:var(--border);
    }
    .btn.ghost{
      background:transparent; 
      color:#e5e7eb; 
      border:1px dashed var(--border);
    }
    .inline{
      display:flex; 
      gap:12px; 
      align-items:center;
    }

    .status{
      font-size:14px; 
      margin-top:12px;
      font-weight:500;
    }
    .ok{color:var(--good)} 
    .err{color:var(--bad)} 
    .warn{color:var(--warn)}
    .hr{
      height:1px; 
      background:linear-gradient(to right, transparent, var(--border), transparent); 
      margin:20px 0;
    }

    .stepper{
      display:flex; 
      align-items:center; 
      gap:12px; 
      font-size:13px; 
      color:#d1d5db; 
      margin-bottom:12px;
    }
    .dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:#2d3038;
      border:1px solid var(--border);
      transition:background 0.3s ease, border-color 0.3s ease;
    }
    .dot.on{
      background: var(--brand);
      border-color: var(--brand-700);
      box-shadow:0 0 8px var(--ring);
    }

    .otp-grid{
      display:grid; 
      grid-template-columns:repeat(6,1fr); 
      gap:12px;
    }
    .otp{
      text-align:center; 
      font-size:20px; 
      font-weight:600;
      letter-spacing:1px;
      transition:transform 0.2s ease;
    }
    .otp:focus{transform:scale(1.05)}

    .meta{
      display:flex; 
      justify-content:space-between; 
      align-items:center; 
      margin-top:12px;
    }
    .muted{
      color:var(--muted); 
      font-size:13px;
      font-weight:500;
    }

    .helper{
      display:flex; 
      justify-content:space-between; 
      gap:12px; 
      margin-top:10px;
    }
    .toggle-eye{
      cursor:pointer; 
      user-select:none; 
      font-size:13px; 
      color:#d1d5db;
      transition:color 0.2s ease;
    }
    .toggle-eye:hover{color:var(--brand-light)}

    .toast{
      position:fixed; 
      bottom:24px; 
      right:24px; 
      padding:14px 18px; 
      border-radius:12px;
      background: var(--gradient);
      border:1px solid var(--border); 
      color:#f1f3f6;
      box-shadow: var(--shadow);
      display:none; 
      z-index:100;
      font-size:14px;
      font-weight:500;
      animation:slideIn 0.3s ease;
    }
    .toast.show{display:block}
    @keyframes slideIn{
      from{transform:translateX(100%); opacity:0}
      to{transform:translateX(0); opacity:1}
    }

    .kbd{
      display:inline-block; 
      padding:2px 8px; 
      border:1px solid var(--border); 
      border-bottom-width:3px; 
      border-radius:8px; 
      font-size:12px; 
      background:#0b0c10; 
      color:#d1d5db;
    }

    @media (max-width:600px){
      .wrap{padding:16px}
      .branding{padding:12px}
      .card{padding:20px}
      .grid{gap:24px}
      .btn{font-size:14px; padding:12px}
      .input{font-size:14px; padding:12px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Brand -->
    <div class="branding">
      <div class="logo" aria-hidden="true">
        <img src="https://i.postimg.cc/pXmq7b3r/download-3.jpg" alt="Virtual Herbal Garden logo"/>
      </div>
      <div class="brand-title">
        <div class="title">Virtual Herbal Garden — Admin</div>
        <div class="muted">Secure access • Email & Password • OTP-based signup</div>
      </div>
    </div>

    <!-- Auth Cards -->
    <div class="grid">
      <!-- LOGIN -->
      <section class="card" id="loginCard" aria-labelledby="loginHeading">
        <h2 id="loginHeading">Admin Login</h2>
        <p class="sub">Access your admin dashboard with your registered credentials.</p>

        <form id="loginForm" autocomplete="on" novalidate>
          <div class="field">
            <label for="loginEmail">Email</label>
            <input class="input" type="email" id="loginEmail" name="email" placeholder="admin@yourdomain.com" autocomplete="email" required />
          </div>
          <div class="field">
            <label for="loginPassword">Password</label>
            <div class="inline">
              <input class="input" type="password" id="loginPassword" name="password" placeholder="••••••••" autocomplete="current-password" minlength="8" required />
              <button type="button" id="toggleLoginPass" class="btn secondary toggle-eye" style="flex:0 0 auto; width:auto; padding:10px 14px">Show</button>
            </div>
          </div>

          <div class="field">
            <label class="inline" title="Keep me signed in on this device">
              <input type="checkbox" id="rememberMe" checked style="margin-right:8px"/> Keep me signed in
            </label>
          </div>

          <button class="btn" id="loginBtn" type="submit">Sign in</button>
          <div id="loginStatus" class="status" aria-live="polite"></div>
        </form>

        <div class="meta">
          <span class="muted">Tip: Press <span class="kbd">Enter</span> to submit</span>
          <a class="muted" href="#" id="toSignup">New admin? Create one →</a>
        </div>
      </section>

      <!-- SIGNUP -->
      <section class="card" id="signupCard" aria-labelledby="signupHeading">
        <h2 id="signupHeading">Create Admin Account</h2>
        <p class="sub">Set up a new admin account with email verification.</p>

        <div class="stepper">
          <span class="dot" id="sDot1"></span><span>Email</span>
          <span class="dot" id="sDot2"></span><span>OTP</span>
          <span class="dot" id="sDot3"></span><span>Password</span>
        </div>

        <!-- STEP 1 -->
        <form id="step1" aria-label="Signup Step 1: Email">
          <div class="field">
            <label for="signupEmail">Admin Email</label>
            <input class="input" type="email" id="signupEmail" placeholder="admin@yourdomain.com" autocomplete="email" required />
          </div>
          <button class="btn" id="sendOtpBtn" type="submit">Send OTP</button>
          <div id="step1Status" class="status" aria-live="polite"></div>
          <div class="helper">
            <span class="muted">We’ll send a 6-digit code to your email</span>
          </div>
        </form>

        <div class="hr"></div>

        <!-- STEP 2 -->
        <form id="step2" hidden aria-label="Signup Step 2: OTP">
          <div class="field">
            <label for="otp1">Enter 6-digit OTP</label>
            <div class="otp-grid" role="group" aria-label="OTP">
              <input class="input otp" id="otp1" inputmode="numeric" minlength="1" maxlength="1" pattern="[0-9]" required />
              <input class="input otp" id="otp2" inputmode="numeric" minlength="1" maxlength="1" pattern="[0-9]" required />
              <input class="input otp" id="otp3" inputmode="numeric" minlength="1" maxlength="1" pattern="[0-9]" required />
              <input class="input otp" id="otp4" inputmode="numeric" minlength="1" maxlength="1" pattern="[0-9]" required />
              <input class="input otp" id="otp5" inputmode="numeric" minlength="1" maxlength="1" pattern="[0-9]" required />
              <input class="input otp" id="otp6" inputmode="numeric" minlength="1" maxlength="1" pattern="[0-9]" required />
            </div>
          </div>
          <div class="row">
            <button class="btn" id="verifyOtpBtn" type="submit">Verify OTP</button>
            <button class="btn secondary" id="resendOtpBtn" type="button">Resend (60s)</button>
          </div>
          <div id="step2Status" class="status" aria-live="polite"></div>
        </form>

        <div class="hr"></div>

        <!-- STEP 3 -->
        <form id="step3" hidden aria-label="Signup Step 3: Password">
          <div class="row">
            <div class="field">
              <label for="pass">Password</label>
              <input class="input" type="password" id="pass" minlength="8" placeholder="At least 8 characters" required />
            </div>
            <div class="field">
              <label for="cpass">Confirm Password</label>
              <input class="input" type="password" id="cpass" minlength="8" placeholder="Re-type password" required />
            </div>
          </div>

          <div class="muted" id="strength">Strength: —</div>
          <button class="btn" id="createBtn" type="submit">Create Admin</button>
          <div id="step3Status" class="status" aria-live="polite"></div>
        </form>
      </section>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    /* =========================
       CONFIG
    ========================= */
    const BASE_URL = window.ADMIN_API_BASE || "/api/auth";
    const REDIRECT_AFTER_LOGIN = "/admin/admindashboard.html";

    /* =========================
       DOM Shortcuts
    ========================= */
    const loginForm = document.getElementById('loginForm');
    const loginEmail = document.getElementById('loginEmail');
    const loginPassword = document.getElementById('loginPassword');
    const loginBtn = document.getElementById('loginBtn');
    const loginStatus = document.getElementById('loginStatus');
    const toggleLoginPass = document.getElementById('toggleLoginPass');
    const rememberMe = document.getElementById('rememberMe');
    const toSignup = document.getElementById('toSignup');

    const s1 = document.getElementById('step1');
    const s2 = document.getElementById('step2');
    const s3 = document.getElementById('step3');
    const sDot1 = document.getElementById('sDot1');
    const sDot2 = document.getElementById('sDot2');
    const sDot3 = document.getElementById('sDot3');

    const signupEmail = document.getElementById('signupEmail');
    const sendOtpBtn = document.getElementById('sendOtpBtn');
    const step1Status = document.getElementById('step1Status');

    const otpInputs = [1,2,3,4,5,6].map(n => document.getElementById('otp'+n));
    const verifyOtpBtn = document.getElementById('verifyOtpBtn');
    const resendOtpBtn = document.getElementById('resendOtpBtn');
    const step2Status = document.getElementById('step2Status');

    const pass = document.getElementById('pass');
    const cpass = document.getElementById('cpass');
    const strength = document.getElementById('strength');
    const createBtn = document.getElementById('createBtn');
    const step3Status = document.getElementById('step3Status');

    const toast = document.getElementById('toast');

    const signupState = {
      email: '',
      otpToken: '',
      verified: false,
      resendLeft: 60,
      resendTimer: null
    };

    /* =========================
       Helpers
    ========================= */
    function showToast(text){
      toast.textContent = text;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }
    function setBusy(el, busy, busyText){
      if(!el) return;
      if(busy){
        el.dataset.prev = el.textContent;
        el.textContent = busyText || 'Please wait…';
        el.disabled = true;
      }else{
        el.textContent = el.dataset.prev || el.textContent;
        el.disabled = false;
      }
    }
    function onStep(n){
      [sDot1, sDot2, sDot3].forEach((d,i) => d.classList.toggle('on', i < n));
      s1.hidden = n > 1; s2.hidden = n !== 2; s3.hidden = n !== 3;
    }
    onStep(1);

    async function post(path, body, opts={}){
      try {
        const res = await fetch(`${BASE_URL}${path}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json', ...(opts.headers || {}) },
          credentials: 'include',
          body: JSON.stringify(body || {})
        });
        const data = await res.json();
        if (!res.ok) {
          throw new Error(data?.message || data?.error || `HTTP ${res.status}`);
        }
        return data;
      } catch (error) {
        throw error;
      }
    }

    function getOtp(){
      return otpInputs.map(i => (i.value || '').trim()).join('');
    }

    function startResendTimer(){
      clearInterval(signupState.resendTimer);
      signupState.resendLeft = 60;
      resendOtpBtn.textContent = `Resend (${signupState.resendLeft}s)`;
      resendOtpBtn.disabled = true;
      signupState.resendTimer = setInterval(() => {
        signupState.resendLeft--;
        if (signupState.resendLeft <= 0) {
          clearInterval(signupState.resendTimer);
          resendOtpBtn.textContent = 'Resend';
          resendOtpBtn.disabled = false;
        } else {
          resendOtpBtn.textContent = `Resend (${signupState.resendLeft}s)`;
        }
      }, 1000);
    }

    function scorePassword(pw){
      let score = 0;
      if (pw.length >= 8) score++;
      if (/[A-Z]/.test(pw)) score++;
      if (/[a-z]/.test(pw)) score++;
      if (/\d/.test(pw)) score++;
      if (/[^A-Za-z0-9]/.test(pw)) score++;
      return score;
    }
    function showStrength(pw){
      const s = scorePassword(pw);
      const label = ['Very weak', 'Weak', 'Okay', 'Good', 'Strong', 'Excellent'][s] || '—';
      strength.textContent = `Strength: ${label}`;
      strength.className = 'muted ' + (s >= 4 ? 'ok' : s >= 2 ? 'warn' : 'err');
    }

    /* =========================
       UX niceties
    ========================= */
    toggleLoginPass.addEventListener('click', () => {
      const t = loginPassword.type === 'password' ? 'text' : 'password';
      loginPassword.type = t;
      toggleLoginPass.textContent = (t === 'password') ? 'Show' : 'Hide';
      loginPassword.focus();
    });

    otpInputs.forEach((el, idx) => {
      el.addEventListener('input', (e) => {
        e.target.value = e.target.value.replace(/\D/g, '').slice(0, 1);
        if (e.target.value && idx < otpInputs.length - 1) {
          otpInputs[idx + 1].focus();
        }
      });
      el.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && !el.value && idx > 0) {
          otpInputs[idx - 1].focus();
        }
      });
    });

    pass.addEventListener('input', (e) => showStrength(e.target.value));

    toSignup?.addEventListener('click', (e) => {
      e.preventDefault();
      document.getElementById('signupCard').scrollIntoView({ behavior: 'smooth' });
    });

    /* =========================
       LOGIN
    ========================= */
    loginBtn.dataset.prev = 'Sign in';
    loginForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      loginStatus.textContent = '';
      loginStatus.className = 'status';
      const email = (loginEmail.value || '').trim();
      const password = loginPassword.value || '';
      if (!email || !password) {
        loginStatus.textContent = 'Email and password are required.';
        loginStatus.className = 'status err';
        return;
      }

      try {
        setBusy(loginBtn, true);
        const out = await post('/login', { email, password, remember: !!rememberMe.checked });
        loginStatus.textContent = 'Login successful. Redirecting…';
        loginStatus.className = 'status ok';
        showToast('Welcome back!');
        setTimeout(() => {
          window.location.href = out?.redirect || REDIRECT_AFTER_LOGIN;
        }, 600);
      } catch (err) {
        loginStatus.textContent = err.message || 'Login failed. Please try again.';
        loginStatus.className = 'status err';
      } finally {
        setBusy(loginBtn, false);
      }
    });

    /* =========================
       SIGNUP — STEP 1: SEND OTP
    ========================= */
    sendOtpBtn.dataset.prev = 'Send OTP';
    s1.addEventListener('submit', async (e) => {
      e.preventDefault();
      step1Status.textContent = '';
      step1Status.className = 'status';
      const val = (signupEmail.value || '').trim();
      if (!val) {
        step1Status.textContent = 'Email is required.';
        step1Status.className = 'status err';
        return;
      }

      try {
        setBusy(sendOtpBtn, true);
        const out = await post('/send-otp', { email: val });
        signupState.email = val;
        signupState.otpToken = out?.otpToken || '';
        step1Status.textContent = 'OTP sent to your email.';
        step1Status.className = 'status ok';
        showToast('OTP sent');
        onStep(2);
        otpInputs[0].focus();
        startResendTimer();
      } catch (err) {
        step1Status.textContent = err.message || 'Failed to send OTP.';
        step1Status.className = 'status err';
      } finally {
        setBusy(sendOtpBtn, false);
      }
    });

    /* =========================
       SIGNUP — STEP 2: VERIFY OTP
    ========================= */
    verifyOtpBtn.dataset.prev = 'Verify OTP';
    s2.addEventListener('submit', async (e) => {
      e.preventDefault();
      step2Status.textContent = '';
      step2Status.className = 'status';
      const code = getOtp();
      if (!/^\d{6}$/.test(code)) {
        step2Status.textContent = 'Enter a valid 6-digit OTP.';
        step2Status.className = 'status err';
        return;
      }

      try {
        setBusy(verifyOtpBtn, true);
        const out = await post('/verify-otp', { email: signupState.email, otp: code, otpToken: signupState.otpToken });
        signupState.verified = !!out?.verified || true;
        step2Status.textContent = 'OTP verified.';
        step2Status.className = 'status ok';
        showToast('OTP verified');
        onStep(3);
        pass.focus();
      } catch (err) {
        step2Status.textContent = err.message || 'Invalid OTP.';
        step2Status.className = 'status err';
      } finally {
        setBusy(verifyOtpBtn, false);
      }
    });

    resendOtpBtn.addEventListener('click', async () => {
      step2Status.textContent = '';
      step2Status.className = 'status';
      try {
        setBusy(resendOtpBtn, true, 'Resending…');
        const out = await post('/send-otp', { email: signupState.email });
        signupState.otpToken = out?.otpToken || '';
        step2Status.textContent = 'OTP resent.';
        step2Status.className = 'status ok';
        showToast('OTP resent');
        startResendTimer();
      } catch (err) {
        step2Status.textContent = err.message || 'Failed to resend OTP.';
        step2Status.className = 'status err';
        resendOtpBtn.disabled = false;
        resendOtpBtn.textContent = 'Resend';
      } finally {
        setBusy(resendOtpBtn, false);
      }
    });

    /* =========================
       SIGNUP — STEP 3: CREATE ADMIN
    ========================= */
    createBtn.dataset.prev = 'Create Admin';
    s3.addEventListener('submit', async (e) => {
      e.preventDefault();
      step3Status.textContent = '';
      step3Status.className = 'status';
      if (!signupState.verified) {
        step3Status.textContent = 'Please verify OTP first.';
        step3Status.className = 'status err';
        return;
      }
      const p = pass.value || '';
      const cp = cpass.value || '';
      if (p.length < 8) {
        step3Status.textContent = 'Password must be at least 8 characters.';
        step3Status.className = 'status err';
        return;
      }
      if (p !== cp) {
        step3Status.textContent = 'Passwords do not match.';
        step3Status.className = 'status err';
        return;
      }

      try {
        setBusy(createBtn, true);
        await post('/signup', { email: signupState.email, password: p, role: 'admin' });
        step3Status.textContent = 'Account created. You can log in now.';
        step3Status.className = 'status ok';
        showToast('Admin created');
        setTimeout(() => {
          window.location.hash = '#login';
          location.reload();
        }, 900);
      } catch (err) {
        step3Status.textContent = err.message || 'Failed to create account.';
        step3Status.className = 'status err';
      } finally {
        setBusy(createBtn, false);
      }
    });

    /* =========================
       Progressive Enhancement: submit on Enter for OTP
    ========================= */
    otpInputs.forEach((el, i) => {
      el.addEventListener('keyup', (e) => {
        if (e.key === 'Enter') {
          if (i === otpInputs.length - 1) verifyOtpBtn.click();
          else otpInputs[i + 1].focus();
        }
      });
    });
  </script>
</body>
</html>